class ChartsController < ApplicationController
  def downloads_by_name
    result = {}
    GemSpec.all.map do |gg|
      result[gg.name] = gg.total_downloads
    end
    render json: [{name: 'Total Downloads', data: result}]
  end

  # Put in lasergem controller??? how do I get params to be name here? also if in lasergems controller, its not async anymore :/
  def commit_activity
    result = {"2015-11-15T02:00:00+02:00"=>52,
              "2015-11-22T02:00:00+02:00"=>39,
              "2015-11-29T02:00:00+02:00"=>51,
              "2015-12-06T02:00:00+02:00"=>46,
              "2015-12-13T02:00:00+02:00"=>225,
              "2015-12-20T02:00:00+02:00"=>82,
              "2015-12-27T02:00:00+02:00"=>56,
              "2016-01-03T02:00:00+02:00"=>73,
              "2016-01-10T02:00:00+02:00"=>68,
              "2016-01-17T02:00:00+02:00"=>86,
              "2016-01-24T02:00:00+02:00"=>116,
              "2016-01-31T02:00:00+02:00"=>135,
              "2016-02-07T02:00:00+02:00"=>125,
              "2016-02-14T02:00:00+02:00"=>115,
              "2016-02-21T02:00:00+02:00"=>129,
              "2016-02-28T02:00:00+02:00"=>104,
              "2016-03-06T02:00:00+02:00"=>70,
              "2016-03-13T02:00:00+02:00"=>37,
              "2016-03-20T02:00:00+02:00"=>51,
              "2016-03-27T02:00:00+02:00"=>42,
              "2016-04-03T03:00:00+03:00"=>38,
              "2016-04-10T03:00:00+03:00"=>72,
              "2016-04-17T03:00:00+03:00"=>87,
              "2016-04-24T03:00:00+03:00"=>58,
              "2016-05-01T03:00:00+03:00"=>71,
              "2016-05-08T03:00:00+03:00"=>66,
              "2016-05-15T03:00:00+03:00"=>51,
              "2016-05-22T03:00:00+03:00"=>54,
              "2016-05-29T03:00:00+03:00"=>52,
              "2016-06-05T03:00:00+03:00"=>54,
              "2016-06-12T03:00:00+03:00"=>50,
              "2016-06-19T03:00:00+03:00"=>45,
              "2016-06-26T03:00:00+03:00"=>91,
              "2016-07-03T03:00:00+03:00"=>54,
              "2016-07-10T03:00:00+03:00"=>56,
              "2016-07-17T03:00:00+03:00"=>51,
              "2016-07-24T03:00:00+03:00"=>52,
              "2016-07-31T03:00:00+03:00"=>93,
              "2016-08-07T03:00:00+03:00"=>48,
              "2016-08-14T03:00:00+03:00"=>62,
              "2016-08-21T03:00:00+03:00"=>49,
              "2016-08-28T03:00:00+03:00"=>54,
              "2016-09-04T03:00:00+03:00"=>32,
              "2016-09-11T03:00:00+03:00"=>43,
              "2016-09-18T03:00:00+03:00"=>30,
              "2016-09-25T03:00:00+03:00"=>36,
              "2016-10-02T03:00:00+03:00"=>35,
              "2016-10-09T03:00:00+03:00"=>29,
              "2016-10-16T03:00:00+03:00"=>32,
              "2016-10-23T03:00:00+03:00"=>41,
              "2016-10-30T03:00:00+03:00"=>22,
              "2016-11-06T02:00:00+02:00"=>4}
    # @laser_gem = LaserGem.find_by_name(params[:name])
    # result = {}
    # commit_act = @laser_gem.gem_git.commit_dates_year
    # commit_act.each.collect do |ca|
    #   result[ca[1].to_s] = ca[0]
    # end
    render json: [{name: 'Commit Activity', data: result}]
  end
end
